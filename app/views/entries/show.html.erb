<%= turbo_frame_tag "entry_detail" do %>
  <article class="entry-detail">
    <header class="entry-header">
      <h2><%= @entry.title || "ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ãªã—ï¼‰" %></h2>
      <div class="entry-meta">
        <% if @entry.published_at %>
          <time datetime="<%= @entry.published_at.iso8601 %>">
            <%= @entry.published_at.strftime("%Yå¹´%mæœˆ%dæ—¥ %H:%M") %>
          </time>
        <% end %>
        <% if @entry.author.present? %>
          <span class="entry-author">by <%= @entry.author %></span>
        <% end %>
      </div>
      <div class="entry-actions">
        <%= button_to toggle_pin_entry_path(@entry), method: :patch, class: "pin-button", form: { data: { turbo: "false" } } do %>
          <%= @entry.pinned ? "ğŸ“Œ ãƒ”ãƒ³è§£é™¤" : "ğŸ“Œ ãƒ”ãƒ³ç•™ã‚" %>
        <% end %>
        <% if @entry.safe_url.present? %>
          <%= link_to "å…ƒè¨˜äº‹ã‚’é–‹ã", @entry.safe_url, target: "_blank", rel: "noopener noreferrer", class: "external-link" %>
        <% end %>
      </div>
    </header>

    <div class="entry-body">
      <%= sanitize @entry.body, tags: %w[p br strong em a ul ol li blockquote pre code h1 h2 h3 h4 h5 h6 img], attributes: %w[href src alt title] %>
    </div>
  </article>
<% end %>
